@import "../utils/typography";
@import "../utils/variables";

.header {
	position: sticky;
	top: 0;
	left: 0;
	z-index: 10000;
	width: 100%;
	display: flex;
	align-items: center;
	justify-content: space-between;
	padding: 1.9rem 0;
	box-shadow: 0px 4px 4px 0px #00000021;
	transition: 0.2s ease-in-out all;
	background-color: #fff;

	& * {
		transition: 0.2s ease-in-out all;
	}

	&__logo {
		position: relative;
		font-size: 0;
		max-width: 19.1rem;
		height: auto;

		& picture {
			width: 100%;
			height: auto;

			& img {
				width: 100%;
				height: auto;

				&:last-child {
					display: none;
				}
			}
		}

		@media only screen and (max-width: 1000px) {
			max-width: 13rem;
		}
	}

	&__m-button {
		display: none;
	}

	&__wrapper {
		width: 90%;
		max-width: 1100px;
		margin: auto;

		display: flex;
		align-items: center;
		justify-content: flex-end;
		gap: 6.4rem;

		& a {
			margin-right: auto;
		}
	}

	&__menu {
		display: flex;
		align-items: center;
		gap: 2.6rem;
		position: relative;

		& > a,
		& > button {
			font-size: 1.6rem;
			line-height: 2.4rem;
			font-weight: 400;
			color: #2f0e6d;
			font-family: $poppins;
		}

		& .pointer {
			display: inline-flex;
			align-items: center;
			gap: 0.2rem;

			&::after {
				content: "";
				display: block;
				width: 2.4rem;
				height: 1.2rem;
				background-repeat: no-repeat;
				background-size: contain;
				transition: 0.1s ease-in-out all;
				background-image: url("data:image/svg+xml,%0A%3Csvg width='24' height='12' viewBox='0 0 24 12' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cg clip-path='url(%23clip0_21_2642)'%3E%3Cpath d='M17.42 2.45199L18.48 3.51299L12.703 9.29199C12.6104 9.38514 12.5004 9.45907 12.3791 9.50952C12.2579 9.55997 12.1278 9.58594 11.9965 9.58594C11.8652 9.58594 11.7352 9.55997 11.6139 9.50952C11.4927 9.45907 11.3826 9.38514 11.29 9.29199L5.51001 3.51299L6.57001 2.45299L11.995 7.87699L17.42 2.45199Z' fill='%23FFF'/%3E%3C/g%3E%3Cdefs%3E%3CclipPath id='clip0_21_2642'%3E%3Crect width='12' height='24' fill='white' transform='translate(24) rotate(90)'/%3E%3C/clipPath%3E%3C/defs%3E%3C/svg%3E%0A");
			}

			&[active] {
				&::after {
					transform: rotate(180deg);
				}
			}
		}

		& button {
			display: block;
			width: 6rem;
			height: 6rem;

			border-radius: 100%;

			position: relative;
			z-index: 1;

			transition: all 0.2s ease-in-out;

			background-color: $primary;
			background-position: center;
			background-repeat: no-repeat;
			background-image: url("data:image/svg+xml,%3Csvg fill='%2305a95c' height='2rem' width='2rem' version='1.1' id='Capa_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 490.4 490.4' xml:space='preserve'%3E%3Cg id='SVGRepo_bgCarrier' stroke-width='0'%3E%3C/g%3E%3Cg id='SVGRepo_tracerCarrier' stroke-linecap='round' stroke-linejoin='round'%3E%3C/g%3E%3Cg id='SVGRepo_iconCarrier'%3E%3Cg%3E%3Cpath d='M484.1,454.796l-110.5-110.6c29.8-36.3,47.6-82.8,47.6-133.4c0-116.3-94.3-210.6-210.6-210.6S0,94.496,0,210.796 s94.3,210.6,210.6,210.6c50.8,0,97.4-18,133.8-48l110.5,110.5c12.9,11.8,25,4.2,29.2,0C492.5,475.596,492.5,463.096,484.1,454.796z M41.1,210.796c0-93.6,75.9-169.5,169.5-169.5s169.6,75.9,169.6,169.5s-75.9,169.5-169.5,169.5S41.1,304.396,41.1,210.796z'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/svg%3E");

			&:has(+ input[type="text"].visible) {
				background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cg id='SVGRepo_bgCarrier' stroke-width='0'%3E%3C/g%3E%3Cg id='SVGRepo_tracerCarrier' stroke-linecap='round' stroke-linejoin='round'%3E%3C/g%3E%3Cg id='SVGRepo_iconCarrier'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M5.29289 5.29289C5.68342 4.90237 6.31658 4.90237 6.70711 5.29289L12 10.5858L17.2929 5.29289C17.6834 4.90237 18.3166 4.90237 18.7071 5.29289C19.0976 5.68342 19.0976 6.31658 18.7071 6.70711L13.4142 12L18.7071 17.2929C19.0976 17.6834 19.0976 18.3166 18.7071 18.7071C18.3166 19.0976 17.6834 19.0976 17.2929 18.7071L12 13.4142L6.70711 18.7071C6.31658 19.0976 5.68342 19.0976 5.29289 18.7071C4.90237 18.3166 4.90237 17.6834 5.29289 17.2929L10.5858 12L5.29289 6.70711C4.90237 6.31658 4.90237 5.68342 5.29289 5.29289Z' fill='%2305a95c'%3E%3C/path%3E%3C/g%3E%3C/svg%3E");
				transform: rotate(360deg);
				background-color: #00000000;

				width: 4.5rem;
				height: 4.5rem;
			}

			@media only screen and (max-width: 1000px) {
				background-color: #00000000 !important;
			}
		}

		& input[type="text"] {
			border-radius: 3.8rem;
			border: 0.1rem solid #06A95D;
			background-color: #D8FFED;
			padding: 1.6rem 4rem;
			resize: none;

			font-size: 1.6rem;
			font-family: $poppins;

			position: absolute;

			width: 100%;
			appearance: none;

			transition: all 0.2s ease-in-out;
			transform: scale(0);

			&.visible {
				transform: scale(1);
			}
		}
	}

	&__m-menu {
		display: contents;
	}

	&__last {
		& a,
		& button {
			font-size: 1.6rem;
			line-height: 2.6rem;
			text-align: center;
			color: #fff;
			font-family: $poppins;
			font-weight: 400;
			padding: 0.9rem 2.75rem;
			background-color: #05a95c;
			border-radius: 4.7rem;
			text-transform: uppercase;
		}
	}

	&--purple {
		background-color: #2f0e6d;
		box-shadow: unset;

		& .header__logo {
			& picture {
				& img {
					&:last-child {
						display: block;
					}

					&:first-child {
						display: none;
					}
				}
			}
		}

		& .header__menu {
			& > a,
			& > button {
				color: #fff;
			}

			& .pointer {
				&::after {
					background-image: url("data:image/svg+xml,%0A%3Csvg width='24' height='12' viewBox='0 0 24 12' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cg clip-path='url(%23clip0_21_2642)'%3E%3Cpath d='M17.42 2.45199L18.48 3.51299L12.703 9.29199C12.6104 9.38514 12.5004 9.45907 12.3791 9.50952C12.2579 9.55997 12.1278 9.58594 11.9965 9.58594C11.8652 9.58594 11.7352 9.55997 11.6139 9.50952C11.4927 9.45907 11.3826 9.38514 11.29 9.29199L5.51001 3.51299L6.57001 2.45299L11.995 7.87699L17.42 2.45199Z' fill='%23FFF'/%3E%3C/g%3E%3Cdefs%3E%3CclipPath id='clip0_21_2642'%3E%3Crect width='12' height='24' fill='white' transform='translate(24) rotate(90)'/%3E%3C/clipPath%3E%3C/defs%3E%3C/svg%3E%0A");
				}
			}
		}
	}

	&:not(.header--purple) {
		& .pointer {
			&::after {
				background-image: url("data:image/svg+xml,%0A%3Csvg width='24' height='12' viewBox='0 0 24 12' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cg clip-path='url(%23clip0_21_2642)'%3E%3Cpath d='M17.42 2.45199L18.48 3.51299L12.703 9.29199C12.6104 9.38514 12.5004 9.45907 12.3791 9.50952C12.2579 9.55997 12.1278 9.58594 11.9965 9.58594C11.8652 9.58594 11.7352 9.55997 11.6139 9.50952C11.4927 9.45907 11.3826 9.38514 11.29 9.29199L5.51001 3.51299L6.57001 2.45299L11.995 7.87699L17.42 2.45199Z' fill='%232f0e6d'/%3E%3C/g%3E%3Cdefs%3E%3CclipPath id='clip0_21_2642'%3E%3Crect width='12' height='24' fill='white' transform='translate(24) rotate(90)'/%3E%3C/clipPath%3E%3C/defs%3E%3C/svg%3E%0A");
			}
		}

		&:not(.header--scrolled) {
			& button {
				background-color: #fff;
			}
		}
	}

	&--scrolled {
		background-color: #fff;
		box-shadow: 0px 4px 4px 0px #00000021;

		& .header__logo {
			& picture {
				& img {
					&:last-child {
						display: none;
					}

					&:first-child {
						display: block;
					}
				}
			}
		}

		& .header__menu {
			& > a,
			& > button {
				color: #2f0e6d;
			}

			& .pointer {
				&::after {
					background-image: url("data:image/svg+xml,%0A%3Csvg width='24' height='12' viewBox='0 0 24 12' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cg clip-path='url(%23clip0_21_2642)'%3E%3Cpath d='M17.42 2.45199L18.48 3.51299L12.703 9.29199C12.6104 9.38514 12.5004 9.45907 12.3791 9.50952C12.2579 9.55997 12.1278 9.58594 11.9965 9.58594C11.8652 9.58594 11.7352 9.55997 11.6139 9.50952C11.4927 9.45907 11.3826 9.38514 11.29 9.29199L5.51001 3.51299L6.57001 2.45299L11.995 7.87699L17.42 2.45199Z' fill='%232f0e6d'/%3E%3C/g%3E%3Cdefs%3E%3CclipPath id='clip0_21_2642'%3E%3Crect width='12' height='24' fill='white' transform='translate(24) rotate(90)'/%3E%3C/clipPath%3E%3C/defs%3E%3C/svg%3E%0A");
				}
			}

			& button {
				background-color: #fff;
			}
		}
	}

	@media only screen and (max-width: 1000px) {
		&__m-button {
			display: flex;
			flex-flow: column;
			gap: 0.5rem;
			width: 2.5rem;
			cursor: pointer;

			background: unset;
			border: unset;

			& span,
			&::after,
			&::before {
				content: "";
				background-color: #2f0e6d;
				height: 0.3rem;
				width: 100%;
				transition: 0.2s ease-in-out all;
			}

			&[data-active] {
				& span {
					transform: scaleX(0);
				}

				&::before {
					transform: rotate(50deg) translateY(0.57rem)
						translateX(0.57rem);
				}

				&::after {
					transform: rotate(-50deg) translateY(-0.57rem)
						translateX(0.57rem);
				}
			}
		}

		&__menu {
			display: flex;
			flex-flow: column;
			align-items: center;
			width: 100%;

			& > a,
			& > button {
				color: #2f0e6d !important;
				margin-right: unset;
			}

			& .pointer {
				&::after {
					background-image: url("data:image/svg+xml,%0A%3Csvg width='24' height='12' viewBox='0 0 24 12' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cg clip-path='url(%23clip0_21_2642)'%3E%3Cpath d='M17.42 2.45199L18.48 3.51299L12.703 9.29199C12.6104 9.38514 12.5004 9.45907 12.3791 9.50952C12.2579 9.55997 12.1278 9.58594 11.9965 9.58594C11.8652 9.58594 11.7352 9.55997 11.6139 9.50952C11.4927 9.45907 11.3826 9.38514 11.29 9.29199L5.51001 3.51299L6.57001 2.45299L11.995 7.87699L17.42 2.45199Z' fill='%232f0e6d'/%3E%3C/g%3E%3Cdefs%3E%3CclipPath id='clip0_21_2642'%3E%3Crect width='12' height='24' fill='white' transform='translate(24) rotate(90)'/%3E%3C/clipPath%3E%3C/defs%3E%3C/svg%3E%0A") !important;
				}
			}
		}

		&__last {
			display: flex;
			justify-content: center;
			align-items: center;
			width: 100%;

			& a,
			& button {
				margin-right: unset;
			}
		}

		&__m-menu {
			display: flex;
			flex-flow: column;
			align-items: flex-start;
			position: fixed;
			top: 11.72rem;
			height: calc(100% - 11.72rem);
			left: 0;
			width: 100%;
			padding: 2rem 1rem;
			background: #f4f4f4;
			gap: 2.6rem;
			opacity: 0;
			pointer-events: none;

			&[data-active] {
				opacity: 1;
				pointer-events: all;
			}
		}

		&--purple {
			& .header__m-button {
				& span,
				&::after,
				&::before {
					background-color: #fff;
				}
			}
		}

		&--scrolled {
			& .header__m-menu {
				top: 8.495rem;
				height: calc(100% - 8.495rem);
			}

			& .header__m-button {
				& span,
				&::after,
				&::before {
					background-color: #2f0e6d;
				}
			}
		}
	}
}
